import{d as p,Z as m,E as _,r as f,G as h,$ as y,h as s,aw as v,_ as C,c as w,o as g,b as o,a as $,z as k,w as B,y as I,B as b}from"./index-2WoK3mnG.js";import{C as D}from"./index-C8KzbB-k.js";import{a as O}from"./order-TNH96eAa.js";const T=p({name:"ConfirmOrder",setup(){const t=m(),n=_(),r=f({}),c=async()=>{try{const e=t.params.courseId,a=await y(e);r.value=a}catch{s("获取课程详情失败")}},l=async()=>{try{const e=t.params.courseId,a=await v(e);a.price=a.amount,a.imgUrl=a.imageUrl,r.value=a}catch{s("获取套餐详情失败")}},i=async()=>{try{const e=await O({type:t.params.type,linkId:r.value.id});s("订单创建成功"),n.push(`/order/pay/${e.orderSn}`)}catch{s("订单创建失败")}};return h(()=>{const e=t.params.type;e==="1"&&c(),e==="2"&&l()}),{detail:r,onCreateOrder:i}}}),U={class:"confirm-order"},E={class:"p-4"};function G(t,n,r,c,l,i){const e=k,a=I,u=D,d=b;return g(),w("div",U,[o(e,{num:"1",price:t.detail.price,title:t.detail.title,thumb:t.detail.imgUrl},null,8,["price","title","thumb"]),o(u,{class:"mt-4"},{default:B(()=>[o(a,{title:"商品总金额",value:t.detail.price},null,8,["value"]),o(a,{title:"应付",value:t.detail.price},null,8,["value"])]),_:1}),$("div",E,[o(d,{class:"w-full",type:"primary",text:"提交订单",round:"",onClick:t.onCreateOrder},null,8,["onClick"])])])}const V=C(T,[["render",G]]);export{V as default};
