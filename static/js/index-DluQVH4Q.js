import{r as F,p as V,E as A,aY as E,aW as q,Z as N,a_ as k,aX as D,G as w,a$ as I,_ as R,c as p,a as U,b as o,e as h,w as c,a3 as T,o as u,F as y,q as C,g as x,ax as G,y as L,B as z,t as M,f as j}from"./index-CiFAjE-h.js";import{C as P}from"./index-CNLD6b3T.js";import{R as W,a as X}from"./index-DkE_Dy_w.js";import{F as Y}from"./index-B4rBqik5.js";import{l as Z}from"./favicon-CEyZaP4f.js";import{F as H}from"./index-Ba_mIeHx.js";const J={setup(){const m=N();w();const s=F(""),_=F(""),e=F(!1),v=t=>t?/^1[3456789]\d{9}$/.test(t)?!0:"手机号格式错误":"请输入手机号",B=t=>new Promise(a=>{I({trainingCourseId:m.params.id,mobile:t}).then(n=>{a(n||!0)})}),d=[{label:"1. 本次培训课程内容，符合岗位技能需求，针对性强：",prop:"content1",prop2:"content1Suggestion"},{label:"2. 培训教师专业水平高，对教学内容阐述明确、具体、完整：",prop:"content2",prop2:"content2Suggestion"},{label:"3. 实训指导教师实操技能强，实训指导方法灵活：",prop:"content3",prop2:"content3Suggestion"},{label:"4. 有与培训规模相适应的理论教室、实训场地及设施设备：",prop:"content4",prop2:"content4Suggestion"},{label:"5. 培训机构的培训过程管理工作规范，要求严格：",prop:"content5",prop2:"content5Suggestion"},{label:"6. 培训时间和培训方式安排合理：",prop:"content6",prop2:"content6Suggestion"},{label:"7. 能够按照培训计划安排的内容和课时进行教学：",prop:"content7",prop2:"content7Suggestion"},{label:"8. 通过培训提高了技能，对你今后的工作有较大的帮助：",prop:"content8",prop2:"content8Suggestion"},{label:"9. 你对本次培训的总体评价：",prop:"content9",prop2:"content9Suggestion"}],i=V({mobile:"",content1:"",content2:"",content3:"",content4:"",content5:"",content6:"",content7:"",content8:"",content9:"",content1Suggestion:"",content2Suggestion:"",content3Suggestion:"",content4Suggestion:"",content5Suggestion:"",content6Suggestion:"",content7Suggestion:"",content8Suggestion:"",content9Suggestion:""}),l=V({mobile:[{validator:v},{validator:B}],content1:[{required:!0,message:"请选择评价",trigger:"change"}],content2:[{required:!0,message:"请选择评价",trigger:"change"}],content3:[{required:!0,message:"请选择评价",trigger:"change"}],content4:[{required:!0,message:"请选择评价",trigger:"change"}],content5:[{required:!0,message:"请选择评价",trigger:"change"}],content6:[{required:!0,message:"请选择评价",trigger:"change"}],content7:[{required:!0,message:"请选择评价",trigger:"change"}],content8:[{required:!0,message:"请选择评价",trigger:"change"}],content9:[{required:!0,message:"请选择评价",trigger:"change"}],content1Suggestion:[],content2Suggestion:[],content3Suggestion:[],content4Suggestion:[],content5Suggestion:[],content6Suggestion:[],content7Suggestion:[],content8Suggestion:[],content9Suggestion:[]}),g=["满意","比较满意","一般","比较不满意","不满意"],b=()=>{k({trainingCourseId:m.params.id,...i}).then(()=>{e.value=!0,D.success("测评成功")})},S=t=>t&&t.includes("不满意"),f=(t,a)=>{i[a]="",t&&t.includes("不满意")?l[a]=[{required:!0,message:"请填写理由和建议",trigger:"change"}]:l[a]=[]};return A(()=>{E(m.params.id).then(t=>{s.value=t.courseName,_.value=t.trainingCourseName})}),{logo:Z,logoText:q,courseName:s,trainingCourseName:_,formList:d,rules:l,evaluationForm:i,ratingArr:g,success:e,onSubmit:b,validatorMobile:v,ValidityShow:S,contentChange:f}}},K={class:"sign-in-page"},O={class:"mb-4"},Q={key:1,style:{display:"flex","justify-content":"center","align-items":"center",height:"200px",color:"#07c160","font-size":"30px"}};function $(m,s,_,e,v,B){const d=T,i=G,l=L,g=Y,b=W,S=X,f=P,t=z,a=H;return u(),p("div",K,[U("header",O,[o(d,{class:"logo",height:"40",src:e.logo},null,8,["src"]),o(d,{class:"logo",height:"40",src:e.logoText},null,8,["src"])]),o(i,{title:"满意度测评"}),e.success?(u(),p("div",Q," 提交成功 ")):(u(),h(a,{key:0,"label-align":"top",onSubmit:e.onSubmit},{default:c(()=>[o(f,null,{default:c(()=>[o(l,{title:"课程名称",value:e.courseName},null,8,["value"]),o(l,{title:"培训名称",value:e.trainingCourseName},null,8,["value"]),o(g,{modelValue:e.evaluationForm.mobile,"onUpdate:modelValue":s[0]||(s[0]=n=>e.evaluationForm.mobile=n),label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},null,8,["modelValue","rules"]),(u(!0),p(y,null,C(e.formList,n=>(u(),p("div",{key:n.prop},[o(g,{label:n.label,name:"radio",rules:e.rules[n.prop]},{input:c(()=>[o(S,{modelValue:e.evaluationForm[n.prop],"onUpdate:modelValue":r=>e.evaluationForm[n.prop]=r,onChange:r=>e.contentChange(e.evaluationForm[n.prop],n.prop2)},{default:c(()=>[(u(!0),p(y,null,C(e.ratingArr,r=>(u(),h(b,{key:r,name:r,class:"mb-2"},{default:c(()=>[x(M(r),1)]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["label","rules"]),e.ValidityShow(e.evaluationForm[n.prop])?(u(),h(g,{key:0,modelValue:e.evaluationForm[n.prop2],"onUpdate:modelValue":r=>e.evaluationForm[n.prop2]=r,label:"请填写理由和建议：",prop:n.prop2,type:"textarea",rows:"2",autosize:"",rules:e.rules[n.prop2]},null,8,["modelValue","onUpdate:modelValue","prop","rules"])):j("",!0)]))),128))]),_:1}),o(t,{type:"primary","native-type":"submit",block:""},{default:c(()=>s[1]||(s[1]=[x("提交")])),_:1})]),_:1},8,["onSubmit"]))])}const ue=R(J,[["render",$],["__scopeId","data-v-fc8bff6a"]]);export{ue as default};
