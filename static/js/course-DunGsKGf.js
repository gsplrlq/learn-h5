import{_ as $,z as h,A as y,D as x,c as r,o as n,b as _,w as i,F as b,q as T,e as B,f as L,B as N,g as I,a as p,t as v,E as U,r as k,G as w,h as C}from"./index-2WoK3mnG.js";import{g as D}from"./user-BX0D374L.js";const M={components:{"van-tab":x,"van-tabs":y,"van-card":h},setup(){const u=U(),s=k(0),d=[{id:1,title:"全部",status:""},{id:2,title:"免费课",status:1},{id:3,title:"付费课",status:2}],e=k([]),f=t=>{const c=Math.floor(t/3600),a=Math.floor(t%3600/60);return`${c}小时${a}分钟`},g=t=>{s.value=t.name,l(t.name)},l=t=>{D({courseType:t}).then(a=>{e.value=a})},m=t=>{if(t.autoClass===0&&!t.classId)return C("请联系管理员加入班级");if(!t.videoId)return C("暂无视频");u.push(`/video/${t.id}/${t.videoId}`),event.stopPropagation(),console.log(t)};return w(()=>{l(d[0].status)}),{router:u,activeTab:s,tabList:d,getTime:f,course:e,onTabClick:g,continueLearning:m}}},z={class:"text-l text-gray-400"},E={key:0,class:"empty-placeholder p-4"};function F(u,s,d,e,f,g){const l=N,m=h,t=x,c=y;return n(),r("div",null,[_(c,{modelValue:e.activeTab,"onUpdate:modelValue":s[0]||(s[0]=a=>e.activeTab=a),sticky:"","offset-top":"50",onClickTab:e.onTabClick},{default:i(()=>[(n(!0),r(b,null,T(e.tabList,a=>(n(),B(t,{key:a.id,title:a.title,name:a.status},{default:i(()=>[(n(!0),r(b,null,T(e.course,o=>(n(),r("div",{key:o.id,class:"c-card"},[_(m,{tag:` ${o.courseType===1?"免费课":"付费课"} `,thumb:o.imgUrl,title:`${o.title}`,onClick:V=>e.router.push(`/course/${o.id}`)},{desc:i(()=>[p("div",z," 机构："+v(o.institutionName),1),p("div",null,v(`已学 ${o.percent}% | 学习时间: ${e.getTime(o.progress)}`),1),p("div",null,v(`学习至 ${o.chapterTitle}`),1)]),footer:i(()=>[_(l,{type:"primary",size:"small",onClick:V=>e.continueLearning(o)},{default:i(()=>[...s[1]||(s[1]=[I("继续学习",-1)])]),_:1},8,["onClick"])]),_:2},1032,["tag","thumb","title","onClick"])]))),128)),e.course.length===0?(n(),r("div",E," 暂无课程 ")):L("",!0)]),_:1},8,["title","name"]))),128))]),_:1},8,["modelValue","onClickTab"])])}const G=$(M,[["render",F],["__scopeId","data-v-4e4d9c3c"]]);export{G as default};
