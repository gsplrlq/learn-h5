import{c as U,d as P,u as F,a as H,b as n,O as J,t as I,w as M,P as W,Q as z,n as X,r as C,R as Z,v as E,S as q,U as G,V as ee,W as D,y as te,H as Q,X as ae,Y as ne,Z as j,$ as le,a0 as se,M as oe,L as re,a1 as ce,a2 as ie,o as v,e as w,g as o,f as N,k as S,i as a,j as $,l as de,x as O,D as A,h as k,a3 as ue,a4 as pe,K as _e,I as ve,J as fe,_ as me}from"./index-ADPyas5r.js";import{Q as he,N as ge,R as xe,A as ye,a as be}from"./review-DLG3RhjW.js";import{_ as ke}from"./index-CYeJB_-C.js";import"./index-BphKZXg5.js";const[K,Ce]=U("collapse"),Y=Symbol(K),Le={border:I,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var Te=P({name:K,props:Le,emits:["change","update:modelValue"],setup(r,{emit:y,slots:c}){const{linkChildren:e,children:b}=F(Y),u=t=>{y("change",t),y("update:modelValue",t)},m=(t,p)=>{const{accordion:_,modelValue:d}=r;u(_?t===d?"":t:p?d.concat(t):d.filter(h=>h!==t))},i=(t={})=>{if(r.accordion)return;typeof t=="boolean"&&(t={expanded:t});const{expanded:p,skipDisabled:_}=t,h=b.filter(g=>g.disabled&&_?g.expanded.value:p??!g.expanded.value).map(g=>g.itemName.value);u(h)},l=t=>{const{accordion:p,modelValue:_}=r;return p?_===t:_.includes(t)};return H({toggleAll:i}),e({toggle:m,isExpanded:l}),()=>{var t;return n("div",{class:[Ce(),{[J]:r.border}]},[(t=c.default)==null?void 0:t.call(c)])}}});const Se=M(Te),[Ve,B]=U("collapse-item"),Ne=["icon","title","value","label","right-icon"],Re=W({},z,{name:X,isLink:I,disabled:Boolean,readonly:Boolean,lazyRender:I});var we=P({name:Ve,props:Re,setup(r,{slots:y}){const c=C(),e=C(),{parent:b,index:u}=Z(Y);if(!b)return;const m=E(()=>{var s;return(s=r.name)!=null?s:u.value}),i=E(()=>b.isExpanded(m.value)),l=C(i.value),t=q(()=>l.value||!r.lazyRender),p=()=>{i.value?c.value&&(c.value.style.height=""):l.value=!1};G(i,(s,L)=>{if(L===null)return;s&&(l.value=!0),(s?j:le)(()=>{if(!e.value||!c.value)return;const{offsetHeight:x}=e.value;if(x){const R=`${x}px`;c.value.style.height=s?"0":R,ee(()=>{c.value&&(c.value.style.height=s?R:"0")})}else p()})});const _=(s=!i.value)=>{b.toggle(m.value,s)},d=()=>{!r.disabled&&!r.readonly&&_()},h=()=>{const{border:s,disabled:L,readonly:V}=r,x=D(r,Object.keys(z));return V&&(x.isLink=!1),(L||V)&&(x.clickable=!1),n(Q,te({role:"button",class:B("title",{disabled:L,expanded:i.value,borderless:!s}),"aria-expanded":String(i.value),onClick:d},x),D(y,Ne))},g=t(()=>{var s;return ae(n("div",{ref:c,class:B("wrapper"),onTransitionend:p},[n("div",{ref:e,class:B("content")},[(s=y.default)==null?void 0:s.call(y)])]),[[ne,l.value]])});return H({toggle:_,expanded:i,itemName:m}),()=>n("div",{class:[B({border:u.value&&r.border})]},[h(),g()])}});const Be=M(we),$e={class:"course"},Ie={class:"course-title"},Pe={key:0,class:"teacher-info flex text-left mt-2"},Ee={class:"teacher-details"},De=["innerHTML"],Oe=P({__name:"index",setup(r){const y=se(),c=oe();let e=C({id:1,title:"",courseDesc:"这是课程1的描述",imgUrl:"course-imgUrl-url",teacherInfo:{userName:"教师1",avatar:"teacher-avatar-url",education:""},durationStr:"2小时",studyCount:100,score:4.5,courseContent:"课程1的简介",courseType:1,bought:!1,videoId:1,hasStudy:!1});const b=C(0),u=C([]),m=C([{id:1,title:"第一章",chapterList:[{id:1,title:"第一节",videoId:1,durationStr:"10分钟",percent:50}]}]);return re(async()=>{const i=y.params.id;e.value=await ce(i),m.value=await ie({courseId:i}),j(()=>{u.value=m.value.map(l=>l.id)})}),(i,l)=>{const t=ue,p=pe,_=_e,d=ve,h=ke,g=Q,s=Be,L=Se,V=fe,x=ye,R=be;return v(),w("div",$e,[n(_,{thumb:a(e).imgUrl,title:a(e).title,desc:a(e).courseDesc,class:"course-info"},{title:o(()=>[N("div",Ie,S(a(e).title),1)]),tags:o(()=>[n(t,{plain:"",class:"mr-2"},{default:o(()=>[$("时长: "+S(a(e).durationStr),1)]),_:1}),n(t,{plain:"",class:"mr-2"},{default:o(()=>[$("人数: "+S(a(e).studyCount)+" 人",1)]),_:1}),n(t,{plain:""},{default:o(()=>[$("评分: "+S(a(e).score),1)]),_:1})]),footer:o(()=>[a(e).teacherInfo?(v(),w("div",Pe,[n(p,{round:"",width:"40px",height:"40px",src:a(e).teacherInfo.avatar,class:"teacher-avatar mr-2"},null,8,["src"]),N("div",Ee,[N("p",null,S(a(e).teacherInfo.userName),1),N("p",null,S(a(e).teacherInfo.education),1)])])):de("",!0)]),_:1},8,["thumb","title","desc"]),n(V,{modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=f=>b.value=f),class:"pb-12",sticky:""},{default:o(()=>[n(d,{title:"简介"},{default:o(()=>[N("div",{class:"m-2",innerHTML:a(e).courseContent},null,8,De)]),_:1}),n(d,{title:"章节"},{default:o(()=>[n(L,{ref:"collapse",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=f=>u.value=f)},{default:o(()=>[(v(!0),w(O,null,A(m.value,f=>(v(),k(s,{key:f.id,title:f.title,name:f.id},{default:o(()=>[(v(!0),w(O,null,A(f.chapterList,T=>(v(),k(g,{key:T.id,title:T.title,label:`时长: ${T.durationStr}`},{"right-icon":o(()=>[T.percent==100?(v(),k(h,{key:0,icon:"mdi-check-circle",class:"text-lg text-green-500"})):T.percent>0&&T.percent<100?(v(),k(h,{key:1,icon:"mdi-progress-clock",class:"text-lg text-green-500"})):(v(),k(h,{key:2,icon:"mdi-circle-outline",class:"text-lg text-gray-500"}))]),_:2},1032,["title","label"]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(d,{title:"问答"},{default:o(()=>[n(he,{course:a(e)},null,8,["course"])]),_:1}),n(d,{title:"笔记"},{default:o(()=>[n(ge,{course:a(e)},null,8,["course"])]),_:1}),n(d,{title:"评价"},{default:o(()=>[n(xe,{course:a(e)},null,8,["course"])]),_:1})]),_:1},8,["modelValue"]),n(R,null,{default:o(()=>[a(e).courseType===2&&!a(e).bought?(v(),k(x,{key:0,type:"danger",text:"立即购买",onClick:l[2]||(l[2]=f=>a(c).push(`/order/confirm/${a(e).id}/1`))})):(v(),k(x,{key:1,type:"danger",text:a(e).hasStudy?"继续学习":"开始学习",onClick:l[3]||(l[3]=f=>a(c).push(`/video/${a(e).id}/${a(e).videoId}`))},null,8,["text"]))]),_:1})])}}}),ze=me(Oe,[["__scopeId","data-v-9bef71e8"]]);export{ze as default};
