import{r as f,p as B,E as A,aV as E,aW as q,Z as N,aZ as k,a_ as D,aY as w,G as I,_ as R,c as p,a as U,b as o,e as F,w as c,a3 as T,o as r,F as V,q as y,f as C,ax as G,y as L,B as z,t as M,g as Z}from"./index-CpHnHc8-.js";import{C as j}from"./index-xxQKdWRF.js";import{R as W,a as Y}from"./index-CRvI6yYl.js";import{F as H}from"./index-Du9mXRQz.js";import{l as J}from"./favicon-CEyZaP4f.js";import{F as K}from"./index-CurM0nOi.js";const O={setup(){const m=N();I();const u=f(""),_=f(""),e=f(!1),v=t=>{if(!t)return"请输入手机号";if(!/^1[3456789]\d{9}$/.test(t))return"手机号格式错误";k({trainingCourseId:m.params.id,mobile:t}).then(s=>s.data?"该手机号已提交过测评":!0)},h=[{label:"1. 本次培训课程内容，符合岗位技能需求，针对性强：",prop:"content1",prop2:"content1Suggestion"},{label:"2. 培训教师专业水平高，对教学内容阐述明确、具体、完整：",prop:"content2",prop2:"content2Suggestion"},{label:"3. 实训指导教师实操技能强，实训指导方法灵活：",prop:"content3",prop2:"content3Suggestion"},{label:"4. 有与培训规模相适应的理论教室、实训场地及设施设备：",prop:"content4",prop2:"content4Suggestion"},{label:"5. 培训机构的培训过程管理工作规范，要求严格：",prop:"content5",prop2:"content5Suggestion"},{label:"6. 培训时间和培训方式安排合理：",prop:"content6",prop2:"content6Suggestion"},{label:"7. 能够按照培训计划安排的内容和课时进行教学：",prop:"content7",prop2:"content7Suggestion"},{label:"8. 通过培训提高了技能，对你今后的工作有较大的帮助：",prop:"content8",prop2:"content8Suggestion"},{label:"9. 你对本次培训的总体评价：",prop:"content9",prop2:"content9Suggestion"}],l=B({mobile:"",content1:"",content2:"",content3:"",content4:"",content5:"",content6:"",content7:"",content8:"",content9:"",content1Suggestion:"",content2Suggestion:"",content3Suggestion:"",content4Suggestion:"",content5Suggestion:"",content6Suggestion:"",content7Suggestion:"",content8Suggestion:"",content9Suggestion:""}),i=B({mobile:[{validator:v}],content1:[{required:!0,message:"请选择评价",trigger:"change"}],content2:[{required:!0,message:"请选择评价",trigger:"change"}],content3:[{required:!0,message:"请选择评价",trigger:"change"}],content4:[{required:!0,message:"请选择评价",trigger:"change"}],content5:[{required:!0,message:"请选择评价",trigger:"change"}],content6:[{required:!0,message:"请选择评价",trigger:"change"}],content7:[{required:!0,message:"请选择评价",trigger:"change"}],content8:[{required:!0,message:"请选择评价",trigger:"change"}],content9:[{required:!0,message:"请选择评价",trigger:"change"}],content1Suggestion:[],content2Suggestion:[],content3Suggestion:[],content4Suggestion:[],content5Suggestion:[],content6Suggestion:[],content7Suggestion:[],content8Suggestion:[],content9Suggestion:[]}),d=["满意","比较满意","一般","比较不满意","不满意"],g=()=>{D({trainingCourseId:m.params.id,...l}).then(()=>{e.value=!0,w.success("测评成功")})},S=t=>t&&t.includes("不满意"),b=(t,s)=>{l[s]="",t&&t.includes("不满意")?i[s]=[{required:!0,message:"请填写理由和建议",trigger:"change"}]:i[s]=[]};return A(()=>{E(m.params.id).then(t=>{u.value=t.courseName,_.value=t.trainingCourseName})}),{logo:J,logoText:q,courseName:u,trainingCourseName:_,formList:h,rules:i,evaluationForm:l,ratingArr:d,success:e,onSubmit:g,validatorMobile:v,ValidityShow:S,contentChange:b}}},P={class:"sign-in-page"},Q={class:"mb-4"},X={key:1,style:{display:"flex","justify-content":"center","align-items":"center",height:"200px",color:"#07c160","font-size":"30px"}};function $(m,u,_,e,v,h){const l=T,i=G,d=L,g=H,S=W,b=Y,t=j,s=z,x=K;return r(),p("div",P,[U("header",Q,[o(l,{class:"logo",height:"40",src:e.logo},null,8,["src"]),o(l,{class:"logo",height:"40",src:e.logoText},null,8,["src"])]),o(i,{title:"满意度测评"}),e.success?(r(),p("div",X," 提交成功 ")):(r(),F(x,{key:0,"label-align":"top",onSubmit:e.onSubmit},{default:c(()=>[o(t,null,{default:c(()=>[o(d,{title:"课程名称",value:e.courseName},null,8,["value"]),o(d,{title:"培训名称",value:e.trainingCourseName},null,8,["value"]),o(g,{modelValue:e.evaluationForm.mobile,"onUpdate:modelValue":u[0]||(u[0]=n=>e.evaluationForm.mobile=n),label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},null,8,["modelValue","rules"]),(r(!0),p(V,null,y(e.formList,n=>(r(),p("div",{key:n.prop},[o(g,{label:n.label,name:"radio",rules:e.rules[n.prop]},{input:c(()=>[o(b,{modelValue:e.evaluationForm[n.prop],"onUpdate:modelValue":a=>e.evaluationForm[n.prop]=a,onChange:a=>e.contentChange(e.evaluationForm[n.prop],n.prop2)},{default:c(()=>[(r(!0),p(V,null,y(e.ratingArr,a=>(r(),F(S,{key:a,name:a},{default:c(()=>[C(M(a),1)]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["label","rules"]),e.ValidityShow(e.evaluationForm[n.prop])?(r(),F(g,{key:0,modelValue:e.evaluationForm[n.prop2],"onUpdate:modelValue":a=>e.evaluationForm[n.prop2]=a,label:"请填写理由和建议：",prop:n.prop2,type:"textarea",rows:"2",autosize:""},null,8,["modelValue","onUpdate:modelValue","prop"])):Z("",!0)]))),128))]),_:1}),o(s,{type:"primary","native-type":"submit",block:""},{default:c(()=>u[1]||(u[1]=[C("提交")])),_:1})]),_:1},8,["onSubmit"]))])}const ue=R(O,[["render",$],["__scopeId","data-v-44d24791"]]);export{ue as default};
