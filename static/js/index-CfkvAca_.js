import{j as U,d as I,H as G,I as z,b as n,J,K as E,l as H,M as W,N as M,O as X,r as C,P as Z,k as P,Q as ee,R as te,S as ae,U as D,m as ne,y as Q,V as j,W as se,X as F,Y as le,Z as oe,G as re,E as ce,$ as ie,a0 as de,a1 as ue,o as v,c as w,w as o,a as N,t as S,u as a,f as $,g as pe,F as O,q as A,e as k,a2 as _e,a3 as ve,D as fe,z as me,A as he,_ as ge}from"./index-zMCUR-Ws.js";import{_ as xe}from"./index-D_SuGNbC.js";import{Q as ye,N as be,R as ke}from"./review-CqP9aeOO.js";import{A as Ce,a as Te}from"./index-Car9ucWf.js";import"./index-Dnba_K_7.js";import"./index-TEgZZ0bb.js";const[K,Le]=U("collapse"),Y=Symbol(K),Se={border:E,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var Ve=I({name:K,props:Se,emits:["change","update:modelValue"],setup(r,{emit:y,slots:c}){const{linkChildren:e,children:b}=G(Y),u=t=>{y("change",t),y("update:modelValue",t)},m=(t,p)=>{const{accordion:_,modelValue:d}=r;u(_?t===d?"":t:p?d.concat(t):d.filter(h=>h!==t))},i=(t={})=>{if(r.accordion)return;typeof t=="boolean"&&(t={expanded:t});const{expanded:p,skipDisabled:_}=t,h=b.filter(g=>g.disabled&&_?g.expanded.value:p??!g.expanded.value).map(g=>g.itemName.value);u(h)},s=t=>{const{accordion:p,modelValue:_}=r;return p?_===t:_.includes(t)};return z({toggleAll:i}),e({toggle:m,isExpanded:s}),()=>{var t;return n("div",{class:[Le(),{[J]:r.border}]},[(t=c.default)==null?void 0:t.call(c)])}}});const Ne=H(Ve),[Re,B]=U("collapse-item"),we=["icon","title","value","label","right-icon"],Be=W({},M,{name:X,isLink:E,disabled:Boolean,readonly:Boolean,lazyRender:E});var $e=I({name:Re,props:Be,setup(r,{slots:y}){const c=C(),e=C(),{parent:b,index:u}=Z(Y);if(!b)return;const m=P(()=>{var l;return(l=r.name)!=null?l:u.value}),i=P(()=>b.isExpanded(m.value)),s=C(i.value),t=ee(()=>s.value||!r.lazyRender),p=()=>{i.value?c.value&&(c.value.style.height=""):s.value=!1};te(i,(l,T)=>{if(T===null)return;l&&(s.value=!0),(l?F:le)(()=>{if(!e.value||!c.value)return;const{offsetHeight:x}=e.value;if(x){const R=`${x}px`;c.value.style.height=l?"0":R,ae(()=>{c.value&&(c.value.style.height=l?R:"0")})}else p()})});const _=(l=!i.value)=>{b.toggle(m.value,l)},d=()=>{!r.disabled&&!r.readonly&&_()},h=()=>{const{border:l,disabled:T,readonly:V}=r,x=D(r,Object.keys(M));return V&&(x.isLink=!1),(T||V)&&(x.clickable=!1),n(Q,ne({role:"button",class:B("title",{disabled:T,expanded:i.value,borderless:!l}),"aria-expanded":String(i.value),onClick:d},x),D(y,we))},g=t(()=>{var l;return j(n("div",{ref:c,class:B("wrapper"),onTransitionend:p},[n("div",{ref:e,class:B("content")},[(l=y.default)==null?void 0:l.call(y)])]),[[se,s.value]])});return z({toggle:_,expanded:i,itemName:m}),()=>n("div",{class:[B({border:u.value&&r.border})]},[h(),g()])}});const Ee=H($e),Ie={class:"course"},Pe={class:"course-title"},De={key:0,class:"teacher-info flex text-left mt-2"},Oe={class:"teacher-details"},Ae={class:"m-2"},Ue=I({__name:"index",setup(r){const y=oe(),c=re();let e=C({id:1,title:"",courseDesc:"这是课程1的描述",imgUrl:"course-imgUrl-url",teacherInfo:{userName:"教师1",avatar:"teacher-avatar-url",education:""},durationStr:"2小时",studyCount:100,score:4.5,courseContent:"课程1的简介",courseType:1,bought:!1,videoId:1,hasStudy:!1});const b=C(0),u=C([]),m=C([{id:1,title:"第一章",chapterList:[{id:1,title:"第一节",videoId:1,durationStr:"10分钟",percent:50}]}]);return ce(async()=>{const i=y.params.id;e.value=await ie(i),m.value=await de({courseId:i}),F(()=>{u.value=m.value.map(s=>s.id)})}),(i,s)=>{const t=_e,p=ve,_=fe,d=me,h=xe,g=Q,l=Ee,T=Ne,V=he,x=Ce,R=Te,q=ue("richText");return v(),w("div",Ie,[n(_,{thumb:a(e).imgUrl,title:a(e).title,desc:a(e).courseDesc,class:"course-info"},{title:o(()=>[N("div",Pe,S(a(e).title),1)]),tags:o(()=>[n(t,{plain:"",class:"mr-2"},{default:o(()=>[$("时长: "+S(a(e).durationStr),1)]),_:1}),n(t,{plain:"",class:"mr-2"},{default:o(()=>[$("人数: "+S(a(e).studyCount)+" 人",1)]),_:1}),n(t,{plain:""},{default:o(()=>[$("评分: "+S(a(e).score),1)]),_:1})]),footer:o(()=>[a(e).teacherInfo?(v(),w("div",De,[n(p,{round:"",width:"40px",height:"40px",src:a(e).teacherInfo.avatar,class:"teacher-avatar mr-2"},null,8,["src"]),N("div",Oe,[N("p",null,S(a(e).teacherInfo.userName),1),N("p",null,S(a(e).teacherInfo.education),1)])])):pe("",!0)]),_:1},8,["thumb","title","desc"]),n(V,{modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=f=>b.value=f),class:"pb-12",sticky:""},{default:o(()=>[n(d,{title:"简介"},{default:o(()=>[j(N("div",Ae,null,512),[[q,a(e).courseContent]])]),_:1}),n(d,{title:"章节"},{default:o(()=>[n(T,{ref:"collapse",modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=f=>u.value=f)},{default:o(()=>[(v(!0),w(O,null,A(m.value,f=>(v(),k(l,{key:f.id,title:f.title,name:f.id},{default:o(()=>[(v(!0),w(O,null,A(f.chapterList,L=>(v(),k(g,{key:L.id,title:L.title,label:`时长: ${L.durationStr}`},{"right-icon":o(()=>[L.percent==100?(v(),k(h,{key:0,icon:"mdi-check-circle",class:"text-lg text-green-500"})):L.percent>0&&L.percent<100?(v(),k(h,{key:1,icon:"mdi-progress-clock",class:"text-lg text-green-500"})):(v(),k(h,{key:2,icon:"mdi-circle-outline",class:"text-lg text-gray-500"}))]),_:2},1032,["title","label"]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(d,{title:"问答"},{default:o(()=>[n(ye,{course:a(e)},null,8,["course"])]),_:1}),n(d,{title:"笔记"},{default:o(()=>[n(be,{course:a(e)},null,8,["course"])]),_:1}),n(d,{title:"评价"},{default:o(()=>[n(ke,{course:a(e)},null,8,["course"])]),_:1})]),_:1},8,["modelValue"]),n(R,null,{default:o(()=>[a(e).courseType===2&&!a(e).bought?(v(),k(x,{key:0,type:"danger",text:"立即购买",onClick:s[2]||(s[2]=f=>a(c).push(`/order/confirm/${a(e).id}/1`))})):(v(),k(x,{key:1,type:"danger",text:a(e).hasStudy?"继续学习":"开始学习",onClick:s[3]||(s[3]=f=>a(c).push(`/video/${a(e).id}/${a(e).videoId}`))},null,8,["text"]))]),_:1})])}}}),Ke=ge(Ue,[["__scopeId","data-v-cdf382af"]]);export{Ke as default};
