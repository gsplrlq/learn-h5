import{c as z,d as P,r as y,Q as Ue,u as Ce,t as F,b as a,w as O,R as se,S as qe,U as ze,V as ke,v as A,a as le,B as H,P as Oe,W as $e,n as X,X as Qe,Y as Me,Z as Ke,$ as oe,y as Se,H as G,a0 as je,a1 as Ye,a2 as Ee,a3 as Xe,a4 as Ge,a5 as Je,a6 as ne,a7 as We,A as Ze,a8 as et,a9 as Re,aa as Te,ab as _e,ac as tt,ad as ot,ae as nt,af as at,ag as st,ah as lt,ai as rt,aj as it,ak as ut,al as ct,p as dt,am as ye,an as be,ao as ft,m as R,ap as we,_ as J,o as w,e as T,g as _,j as N,l as x,x as U,D as q,h as V,f as b,k as E,aq as W,N as Le,ar as mt,as as vt,L as Ve,at as pt,au as ht,av as gt,M as _t,aw as yt,ax as bt,i as C,ay as wt,K as Bt,I as Ct,J as kt}from"./index-DqmQnYxG.js";import{_ as $t}from"./index-Cx7M4Bya.js";import{F as re}from"./index-QMDOCG9B.js";const[De,Be]=z("action-bar"),Pe=Symbol(De),St={placeholder:Boolean,safeAreaInsetBottom:F};var Et=P({name:De,props:St,setup(e,{slots:t}){const l=y(),n=Ue(l,Be),{linkChildren:d}=Ce(Pe);d();const u=()=>{var c;return a("div",{ref:l,class:[Be(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(c=t.default)==null?void 0:c.call(t)])};return()=>e.placeholder?n(u):u()}});const Ie=O(Et),[Rt,Tt]=z("action-bar-button"),Lt=se({},qe,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Vt=P({name:Rt,props:Lt,setup(e,{slots:t}){const l=ze(),{parent:n,index:d}=ke(Pe),u=A(()=>{if(n){const i=n.children[d.value-1];return!(i&&"isButton"in i)}}),c=A(()=>{if(n){const i=n.children[d.value+1];return!(i&&"isButton"in i)}});return le({isButton:!0}),()=>{const{type:i,icon:m,text:o,color:p,loading:f,disabled:s}=e;return a(H,{class:Tt([i,{last:c.value,first:u.value}]),size:"large",type:i,icon:m,color:p,loading:f,disabled:s,onClick:l},{default:()=>[t.default?t.default():o]})}}});const ae=O(Vt),[Ne,Dt]=z("collapse"),Ae=Symbol(Ne),Pt={border:F,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var It=P({name:Ne,props:Pt,emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const{linkChildren:n,children:d}=Ce(Ae),u=o=>{t("change",o),t("update:modelValue",o)},c=(o,p)=>{const{accordion:f,modelValue:s}=e;u(f?o===s?"":o:p?s.concat(o):s.filter(S=>S!==o))},i=(o={})=>{if(e.accordion)return;typeof o=="boolean"&&(o={expanded:o});const{expanded:p,skipDisabled:f}=o,S=d.filter(k=>k.disabled&&f?k.expanded.value:p??!k.expanded.value).map(k=>k.itemName.value);u(S)},m=o=>{const{accordion:p,modelValue:f}=e;return p?f===o:f.includes(o)};return le({toggleAll:i}),n({toggle:c,isExpanded:m}),()=>{var o;return a("div",{class:[Dt(),{[Oe]:e.border}]},[(o=l.default)==null?void 0:o.call(l)])}}});const Nt=O(It),[At,K]=z("collapse-item"),Ft=["icon","title","value","label","right-icon"],xt=se({},$e,{name:X,isLink:F,disabled:Boolean,readonly:Boolean,lazyRender:F});var Ht=P({name:At,props:xt,setup(e,{slots:t}){const l=y(),n=y(),{parent:d,index:u}=ke(Ae);if(!d)return;const c=A(()=>{var $;return($=e.name)!=null?$:u.value}),i=A(()=>d.isExpanded(c.value)),m=y(i.value),o=Qe(()=>m.value||!e.lazyRender),p=()=>{i.value?l.value&&(l.value.style.height=""):m.value=!1};Me(i,($,D)=>{if(D===null)return;$&&(m.value=!0),($?Ee:Xe)(()=>{if(!n.value||!l.value)return;const{offsetHeight:B}=n.value;if(B){const v=`${B}px`;l.value.style.height=$?"0":v,Ke(()=>{l.value&&(l.value.style.height=$?v:"0")})}else p()})});const f=($=!i.value)=>{d.toggle(c.value,$)},s=()=>{!e.disabled&&!e.readonly&&f()},S=()=>{const{border:$,disabled:D,readonly:h}=e,B=oe(e,Object.keys($e));return h&&(B.isLink=!1),(D||h)&&(B.clickable=!1),a(G,Se({role:"button",class:K("title",{disabled:D,expanded:i.value,borderless:!$}),"aria-expanded":String(i.value),onClick:s},B),oe(t,Ft))},k=o(()=>{var $;return je(a("div",{ref:l,class:K("wrapper"),onTransitionend:p},[a("div",{ref:n,class:K("content")},[($=t.default)==null?void 0:$.call(t)])]),[[Ye,m.value]])});return le({toggle:f,expanded:i,itemName:c}),()=>a("div",{class:[K({border:u.value&&e.border})]},[S(),k()])}});const Ut=O(Ht),[qt,L,j]=z("dialog"),zt=se({},Ge,{title:String,theme:String,width:X,message:[String,Function],callback:Function,allowHtml:Boolean,className:Je,transition:ne("van-dialog-bounce"),messageAlign:String,closeOnPopstate:F,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:F,closeOnClickOverlay:Boolean}),Ot=[...We,"transition","closeOnPopstate"];var Qt=P({name:qt,props:zt,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:l}){const n=y(),d=Ze({confirm:!1,cancel:!1}),u=h=>t("update:show",h),c=h=>{var B;u(!1),(B=e.callback)==null||B.call(e,h)},i=h=>()=>{e.show&&(t(h),e.beforeClose?(d[h]=!0,at(e.beforeClose,{args:[h],done(){c(h),d[h]=!1},canceled(){d[h]=!1}})):c(h))},m=i("cancel"),o=i("confirm"),p=et(h=>{var B,v;if(h.target!==((v=(B=n.value)==null?void 0:B.popupRef)==null?void 0:v.value))return;({Enter:e.showConfirmButton?o:_e,Escape:e.showCancelButton?m:_e})[h.key](),t("keydown",h)},["enter","esc"]),f=()=>{const h=l.title?l.title():e.title;if(h)return a("div",{class:L("header",{isolated:!e.message&&!l.default})},[h])},s=h=>{const{message:B,allowHtml:v,messageAlign:r}=e,g=L("message",{"has-title":h,[r]:r}),I=tt(B)?B():B;return v&&typeof I=="string"?a("div",{class:g,innerHTML:I},null):a("div",{class:g},[I])},S=()=>{if(l.default)return a("div",{class:L("content")},[l.default()]);const{title:h,message:B,allowHtml:v}=e;if(B){const r=!!(h||l.title);return a("div",{key:v?1:0,class:L("content",{isolated:!r})},[s(r)])}},k=()=>a("div",{class:[nt,L("footer")]},[e.showCancelButton&&a(H,{size:"large",text:e.cancelButtonText||j("cancel"),class:L("cancel"),style:{color:e.cancelButtonColor},loading:d.cancel,disabled:e.cancelButtonDisabled,onClick:m},null),e.showConfirmButton&&a(H,{size:"large",text:e.confirmButtonText||j("confirm"),class:[L("confirm"),{[ot]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:d.confirm,disabled:e.confirmButtonDisabled,onClick:o},null)]),$=()=>a(Ie,{class:L("footer")},{default:()=>[e.showCancelButton&&a(ae,{type:"warning",text:e.cancelButtonText||j("cancel"),class:L("cancel"),color:e.cancelButtonColor,loading:d.cancel,disabled:e.cancelButtonDisabled,onClick:m},null),e.showConfirmButton&&a(ae,{type:"danger",text:e.confirmButtonText||j("confirm"),class:L("confirm"),color:e.confirmButtonColor,loading:d.confirm,disabled:e.confirmButtonDisabled,onClick:o},null)]}),D=()=>l.footer?l.footer():e.theme==="round-button"?$():k();return()=>{const{width:h,title:B,theme:v,message:r,className:g}=e;return a(Te,Se({ref:n,role:"dialog",class:[L([v]),g],style:{width:Re(h)},tabindex:0,"aria-labelledby":B||r,onKeydown:p,"onUpdate:show":u},oe(e,Ot)),{default:()=>[f(),S(),D()]})}}});const Fe=O(Qt),[Mt,Y]=z("rate");function Kt(e,t,l,n){return e>=t?{status:"full",value:1}:e+.5>=t&&l&&!n?{status:"half",value:.5}:e+1>=t&&l&&n?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const jt={size:X,icon:ne("star"),color:String,count:ut(5),gutter:X,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:ne("star-o"),allowHalf:Boolean,voidColor:String,touchable:F,iconPrefix:String,modelValue:ct(0),disabledColor:String};var Yt=P({name:Mt,props:jt,emits:["change","update:modelValue"],setup(e,{emit:t}){const l=st(),[n,d]=lt(),u=y(),c=A(()=>e.readonly||e.disabled),i=A(()=>c.value||!e.touchable),m=A(()=>Array(+e.count).fill("").map((v,r)=>Kt(e.modelValue,r+1,e.allowHalf,e.readonly)));let o,p,f=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;const S=()=>{p=be(u);const v=n.value.map(be);o=[],v.forEach((r,g)=>{f=Math.min(r.top,f),s=Math.max(r.top,s),e.allowHalf?o.push({score:g+.5,left:r.left,top:r.top,height:r.height},{score:g+1,left:r.left+r.width/2,top:r.top,height:r.height}):o.push({score:g+1,left:r.left,top:r.top,height:r.height})})},k=(v,r)=>{for(let g=o.length-1;g>0;g--)if(r>=p.top&&r<=p.bottom){if(v>o[g].left&&r>=o[g].top&&r<=o[g].top+o[g].height)return o[g].score}else{const I=r<p.top?f:s;if(v>o[g].left&&o[g].top===I)return o[g].score}return e.allowHalf?.5:1},$=v=>{c.value||v===e.modelValue||(t("update:modelValue",v),t("change",v))},D=v=>{i.value||(l.start(v),S())},h=v=>{if(!i.value&&(l.move(v),l.isHorizontal()&&!l.isTap.value)){const{clientX:r,clientY:g}=v.touches[0];dt(v),$(k(r,g))}},B=(v,r)=>{const{icon:g,size:I,color:ie,count:ue,gutter:ce,voidIcon:de,disabled:Q,voidColor:fe,allowHalf:me,iconPrefix:ve,disabledColor:pe}=e,Z=r+1,ee=v.status==="full",M=v.status==="void",xe=me&&v.value>0&&v.value<1;let he;ce&&Z!==+ue&&(he={paddingRight:Re(ce)});const He=ge=>{S();let te=me?k(ge.clientX,ge.clientY):Z;e.clearable&&l.isTap.value&&te===e.modelValue&&(te=0),$(te)};return a("div",{key:r,ref:d(r),role:"radio",style:he,class:Y("item"),tabindex:Q?void 0:0,"aria-setsize":ue,"aria-posinset":Z,"aria-checked":!M,onClick:He},[a(ye,{size:I,name:ee?g:de,class:Y("icon",{disabled:Q,full:ee}),color:Q?pe:ee?ie:fe,classPrefix:ve},null),xe&&a(ye,{size:I,style:{width:v.value+"em"},name:M?de:g,class:Y("icon",["half",{disabled:Q,full:!M}]),color:Q?pe:M?fe:ie,classPrefix:ve},null)])};return rt(()=>e.modelValue),it("touchmove",h,{target:u}),()=>a("div",{ref:u,role:"radiogroup",class:Y({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:D},[m.value.map(B)])}});const Xt=O(Yt),Gt=P({name:"QuestionAnswer",props:{course:{type:Object,required:!0}},setup(e){const t=y(!1),l=y(!1),n=y([]),d=y(!1),u=y(""),c=y(!1),i=y(""),m=y(null),o=async()=>{t.value=!0;try{const k=await ft({courseId:e.course.id,page:{current:1,size:-1}});l.value=!0,n.value=[...k.records]}catch{R("加载失败")}finally{t.value=!1}};return{loading:t,finished:l,qaList:n,showReplyDialog:d,replyContent:u,showQuestionDialog:c,questionContent:i,onLoad:o,reply:k=>{m.value=k,d.value=!0},submitReply:async()=>{if(!u.value.trim()){R("回复内容不能为空");return}if(u.value.trim().length>200){R("回复内容不能超过200个字符");return}try{await we({courseId:e.course.id,type:"answer",content:u.value,pid:m.value}),R("回复成功"),d.value=!1,u.value="",o()}catch{R("回复失败")}},question:()=>{c.value=!0},submitQuestion:async()=>{if(!i.value.trim()){R("提问内容不能为空");return}if(i.value.trim().length>200){R("提问内容不能超过200个字符");return}try{await we({courseId:e.course.id,type:"question",content:i.value}),R("提问成功"),c.value=!1,i.value="",o()}catch{R("提问失败")}}}}}),Jt={class:"question-answer"},Wt={key:0,class:"mb-4"},Zt={class:"line-clamp-3"},eo={class:"text-gray-500"},to={key:0,class:"answers"},oo={class:"reply-user"},no={class:"reply-content line-clamp-2"};function ao(e,t,l,n,d,u){const c=H,i=W,m=G,o=Le,p=re,f=Fe;return w(),T("div",Jt,[e.course.hasStudy?(w(),T("div",Wt,[a(c,{type:"primary",onClick:t[0]||(t[0]=s=>e.question())},{default:_(()=>t[6]||(t[6]=[N("我要提问")])),_:1})])):x("",!0),a(o,{loading:e.loading,"onUpdate:loading":t[1]||(t[1]=s=>e.loading=s),finished:e.finished,"finished-text":"没有更多了",onLoad:e.onLoad},{default:_(()=>[(w(!0),T(U,null,q(e.qaList,s=>(w(),V(m,{key:s.id},{icon:_(()=>[a(i,{class:"mr-2",src:s.userAvatar,width:"32",height:"32",round:""},null,8,["src"])]),title:_(()=>[b("div",null,E(s.userName),1),b("div",Zt,E(s.content),1),b("div",eo,E(s.createTime),1),s.answers&&s.answers.length?(w(),T("div",to,[t[7]||(t[7]=b("h3",{class:"font-semibold"},"回答 /",-1)),(w(!0),T(U,null,q(s.answers,S=>(w(),T("div",{key:S.id,class:"reply-item text-sm"},[b("div",oo,E(S.userName)+"：",1),b("div",no,E(S.content),1)]))),128))])):x("",!0)]),"right-icon":_(()=>[e.course.hasStudy?(w(),V(c,{key:0,type:"primary",size:"small",onClick:S=>e.reply(s.id)},{default:_(()=>t[8]||(t[8]=[N("回复")])),_:2},1032,["onClick"])):x("",!0)]),_:2},1024))),128))]),_:1},8,["loading","finished","onLoad"]),a(f,{show:e.showQuestionDialog,"onUpdate:show":t[3]||(t[3]=s=>e.showQuestionDialog=s),title:"提问","show-cancel-button":"",onConfirm:e.submitQuestion},{default:_(()=>[a(p,{modelValue:e.questionContent,"onUpdate:modelValue":t[2]||(t[2]=s=>e.questionContent=s),placeholder:"请输入问题内容"},null,8,["modelValue"])]),_:1},8,["show","onConfirm"]),a(f,{show:e.showReplyDialog,"onUpdate:show":t[5]||(t[5]=s=>e.showReplyDialog=s),title:"回复","show-cancel-button":"",onConfirm:e.submitReply},{default:_(()=>[a(p,{modelValue:e.replyContent,"onUpdate:modelValue":t[4]||(t[4]=s=>e.replyContent=s),placeholder:"请输入回复内容"},null,8,["modelValue"])]),_:1},8,["show","onConfirm"])])}const so=J(Gt,[["render",ao],["__scopeId","data-v-65ba8b09"]]),lo=P({name:"NoteList",props:{course:{type:Object,required:!0}},setup(e){const t=y(!1),l=y(!1),n=y([]),d=y(!1),u=y(""),c=async()=>{t.value=!0;try{const o=await mt({courseId:e.course.id,page:{current:1,size:-1}});l.value=!0,n.value=[...o.records]}catch{R("加载失败")}finally{t.value=!1}};return{loading:t,finished:l,noteList:n,showDialog:d,content:u,onLoad:c,question:()=>{d.value=!0},submitQuestion:async()=>{if(!u.value.trim()){R("笔记内容不能为空");return}if(u.value.trim().length>200){R("笔记内容不能超过200个字符");return}try{await vt({courseId:e.course.id,content:u.value}),R("提交成功"),d.value=!1,u.value="",c()}catch{R("提交失败")}}}}}),ro={class:"question-answer"},io={key:0,class:"mb-4"},uo={class:"line-clamp-3"},co={class:"text-gray-500"};function fo(e,t,l,n,d,u){const c=H,i=W,m=G,o=Le,p=re,f=Fe;return w(),T("div",ro,[e.course.hasStudy?(w(),T("div",io,[a(c,{type:"primary",onClick:t[0]||(t[0]=s=>e.question())},{default:_(()=>t[4]||(t[4]=[N("添加笔记")])),_:1})])):x("",!0),a(o,{loading:e.loading,"onUpdate:loading":t[1]||(t[1]=s=>e.loading=s),finished:e.finished,"finished-text":"没有更多了",onLoad:e.onLoad},{default:_(()=>[(w(!0),T(U,null,q(e.noteList,s=>(w(),V(m,{key:s.id},{icon:_(()=>[a(i,{class:"mr-2",src:s.userAvatar,width:"32",height:"32",round:""},null,8,["src"])]),title:_(()=>[b("div",null,E(s.userName),1),b("div",uo,E(s.content),1),b("div",co,E(s.createTime),1)]),_:2},1024))),128))]),_:1},8,["loading","finished","onLoad"]),a(f,{show:e.showDialog,"onUpdate:show":t[3]||(t[3]=s=>e.showDialog=s),title:"笔记","show-cancel-button":"",onConfirm:e.submitQuestion},{default:_(()=>[a(p,{modelValue:e.content,"onUpdate:modelValue":t[2]||(t[2]=s=>e.content=s),placeholder:"请输入问题内容"},null,8,["modelValue"])]),_:1},8,["show","onConfirm"])])}const mo=J(lo,[["render",fo],["__scopeId","data-v-b7e9bd70"]]),vo=P({name:"ReviewList",props:{course:{type:Object,required:!0}},setup(e){const t=y(!1),l=y(0),n=y(0),d=y(!1),u=y(""),c=y([]),i=()=>{t.value=!0},m=()=>{if(!u.value||n.value===0){R("请填写内容并评分");return}ht({courseId:e.course.id,score:n.value*2,content:u.value}).then(()=>{t.value=!1,n.value=0,R("评价提交成功")})},o=p=>p/2;return Ve(async()=>{const p=await pt({courseId:e.course.id,page:{current:1,size:-1}});c.value=p.page.records,l.value=p.score,d.value=p.userEvaluated}),{showPopup:t,score:n,content:u,reviews:c,totalScore:l,userEvaluated:d,showReviewPopup:i,submitReview:m,getHalf:o}}}),po={class:"review-page"},ho={class:"total-score bg-white p-4"},go={class:"mr-2"},_o={class:"review-popup"},yo={class:"score-section mb-2"},bo={class:"content-section mb-2 flex"},wo={class:"review-list"},Bo={class:"review-content"},Co={class:"review-header"},ko={class:"name"},$o={class:"review-body"},So={class:"review-footer"};function Eo(e,t,l,n,d,u){const c=Xt,i=H,m=re,o=Te,p=W;return w(),T("div",po,[b("div",ho,[t[3]||(t[3]=b("span",null,"综合评分: ",-1)),b("span",go,E(e.totalScore),1),a(c,{"model-value":e.getHalf(e.totalScore),"allow-half":"",readonly:""},null,8,["model-value"])]),e.course.hasStudy&&!e.userEvaluated?(w(),V(i,{key:0,type:"primary",onClick:e.showReviewPopup},{default:_(()=>t[4]||(t[4]=[N("我要评价")])),_:1},8,["onClick"])):x("",!0),a(o,{show:e.showPopup,"onUpdate:show":t[2]||(t[2]=f=>e.showPopup=f),position:"bottom",style:{"background-color":"var(--van-gray-1)"}},{default:_(()=>[b("div",_o,[b("div",yo,[t[5]||(t[5]=b("span",{class:"mr-4"},"分数",-1)),a(c,{modelValue:e.score,"onUpdate:modelValue":t[0]||(t[0]=f=>e.score=f),"allow-half":""},null,8,["modelValue"])]),b("div",bo,[t[6]||(t[6]=b("span",{class:"mr-4"},"内容",-1)),a(m,{modelValue:e.content,"onUpdate:modelValue":t[1]||(t[1]=f=>e.content=f),class:"flex-1",type:"textarea",rows:"3",autosize:"",clearable:"",maxlength:"200",placeholder:"请输入内容","show-word-limit":""},null,8,["modelValue"])]),a(i,{type:"primary",onClick:e.submitReview},{default:_(()=>t[7]||(t[7]=[N("提交")])),_:1},8,["onClick"])])]),_:1},8,["show"]),b("div",wo,[(w(!0),T(U,null,q(e.reviews,f=>(w(),T("div",{key:f.id,class:"review-item bg-white p-4"},[a(p,{src:f.userAvatar,class:"avatar",round:""},null,8,["src"]),b("div",Bo,[b("div",Co,[b("span",ko,E(f.userName),1),a(c,{"model-value":e.getHalf(f.score),"allow-half":"",readonly:""},null,8,["model-value"])]),b("div",$o,E(f.content),1),b("div",So,E(f.createTime),1)])]))),128))])])}const Ro=J(vo,[["render",Eo],["__scopeId","data-v-e11753dd"]]),To={class:"course"},Lo={class:"course-title"},Vo={key:0,class:"teacher-info flex text-left mt-2"},Do={class:"teacher-details"},Po=["innerHTML"],Io=P({__name:"index",setup(e){const t=gt(),l=_t();let n=y({id:1,title:"",courseDesc:"这是课程1的描述",imgUrl:"course-imgUrl-url",teacherInfo:{userName:"教师1",avatar:"teacher-avatar-url",education:""},durationStr:"2小时",studyCount:100,score:4.5,courseContent:"课程1的简介",courseType:1,bought:!1,videoId:1,hasStudy:!1});const d=y(0),u=y([]),c=y([{id:1,title:"第一章",chapterList:[{id:1,title:"第一节",videoId:1,durationStr:"10分钟",percent:50}]}]);return Ve(async()=>{const i=t.params.id;n.value=await yt(i),c.value=await bt({courseId:i}),Ee(()=>{u.value=c.value.map(m=>m.id)})}),(i,m)=>{const o=wt,p=W,f=Bt,s=Ct,S=$t,k=G,$=Ut,D=Nt,h=kt,B=ae,v=Ie;return w(),T("div",To,[a(f,{thumb:C(n).imgUrl,title:C(n).title,desc:C(n).courseDesc,class:"course-info"},{title:_(()=>[b("div",Lo,E(C(n).title),1)]),tags:_(()=>[a(o,{plain:"",class:"mr-2"},{default:_(()=>[N("时长: "+E(C(n).durationStr),1)]),_:1}),a(o,{plain:"",class:"mr-2"},{default:_(()=>[N("人数: "+E(C(n).studyCount)+" 人",1)]),_:1}),a(o,{plain:""},{default:_(()=>[N("评分: "+E(C(n).score),1)]),_:1})]),footer:_(()=>[C(n).teacherInfo?(w(),T("div",Vo,[a(p,{round:"",width:"40px",height:"40px",src:C(n).teacherInfo.avatar,class:"teacher-avatar mr-2"},null,8,["src"]),b("div",Do,[b("p",null,E(C(n).teacherInfo.userName),1),b("p",null,E(C(n).teacherInfo.education),1)])])):x("",!0)]),_:1},8,["thumb","title","desc"]),a(h,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=r=>d.value=r),class:"pb-12",sticky:""},{default:_(()=>[a(s,{title:"简介"},{default:_(()=>[b("div",{class:"m-2",innerHTML:C(n).courseContent},null,8,Po)]),_:1}),a(s,{title:"章节"},{default:_(()=>[a(D,{ref:"collapse",modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=r=>u.value=r)},{default:_(()=>[(w(!0),T(U,null,q(c.value,r=>(w(),V($,{key:r.id,title:r.title,name:r.id},{default:_(()=>[(w(!0),T(U,null,q(r.chapterList,g=>(w(),V(k,{key:g.id,title:g.title,label:`时长: ${g.durationStr}`,onClick:I=>C(l).push(`/video/${C(n).id}/${g.videoId}`)},{"right-icon":_(()=>[g.percent==100?(w(),V(S,{key:0,icon:"mdi-check-circle",class:"text-lg text-green-500"})):g.percent>0&&g.percent<100?(w(),V(S,{key:1,icon:"mdi-progress-clock",class:"text-lg text-green-500"})):(w(),V(S,{key:2,icon:"mdi-circle-outline",class:"text-lg text-gray-500"}))]),_:2},1032,["title","label","onClick"]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{title:"问答"},{default:_(()=>[a(so,{course:C(n)},null,8,["course"])]),_:1}),a(s,{title:"笔记"},{default:_(()=>[a(mo,{course:C(n)},null,8,["course"])]),_:1}),a(s,{title:"评价"},{default:_(()=>[a(Ro,{course:C(n)},null,8,["course"])]),_:1})]),_:1},8,["modelValue"]),a(v,null,{default:_(()=>[C(n).courseType===2&&!C(n).bought?(w(),V(B,{key:0,type:"danger",text:"立即购买",onClick:m[2]||(m[2]=r=>C(l).push(`/cart/confirm/${C(n).id}`))})):(w(),V(B,{key:1,type:"danger",text:C(n).hasStudy?"继续学习":"开始学习",onClick:m[3]||(m[3]=r=>C(l).push(`/video/${C(n).id}/${C(n).videoId}`))},null,8,["text"]))]),_:1})])}}}),xo=J(Io,[["__scopeId","data-v-1e0c5014"]]);export{xo as default};
